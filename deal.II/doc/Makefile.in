# $Id$

###############################
# Configured variables

D        = @DEAL2_DIR@


include $D/common/Make.global_options


# generic targets
default: doxygen tutorial development validate-xrefs

all: default


# specific targets
doxygen:
	cd doxygen ; rm -f *.tag ; $(MAKE)

tutorial:
	cd tutorial ; $(MAKE)

development:
	cd development ; $(MAKE)

glossary:
	cd glossary ; $(MAKE)


validate-xrefs:
	@echo "Validating cross-references in HTML files."
	$(PERL) $D/common/scripts/validate-xrefs.pl *html
	$(PERL) $D/common/scripts/validate-xrefs.pl doxygen/base/*.html
	$(PERL) $D/common/scripts/validate-xrefs.pl doxygen/lac/*.html
	$(PERL) $D/common/scripts/validate-xrefs.pl doxygen/deal.II/*.html
	cd tutorial ; $(MAKE) validate-xrefs
	cd development ; $(MAKE) validate-xrefs
	cd publications ; $(MAKE) validate-xrefs
	cd news ; $(MAKE) validate-xrefs
	cd reports ; $(MAKE) validate-xrefs


clean:
	cd tutorial ; $(MAKE) clean
	cd development ; $(MAKE) clean
	cd glossary ; $(MAKE) clean
	-rm class_index.html


.PHONY: default doxygen all autogen-doc autogen-doc-all tutorial clean development validate-xrefs glossary
